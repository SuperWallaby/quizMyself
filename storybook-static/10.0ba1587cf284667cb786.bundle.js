(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{775:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ExpendButtonStyle})),__webpack_require__.d(__webpack_exports__,"b",(function(){return useStyles})),__webpack_require__.d(__webpack_exports__,"c",(function(){return veritcalWrapStyle}));var _material_ui_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(761),ExpendButtonStyle={width:"100%",borderRadius:0,borderTop:"1px solid #ddd"},useStyles=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_0__.a)((function(theme){return console.log(theme.palette),{root:{"& .MuiTextField-root,.fileUploader,.MuiButton-root,.MuiFormControl-root,.optionAddBtn":{marginBottom:theme.spacing(2),marginLeft:0,marginRight:0,width:"100%"},"& .lastBtn,.addImgBtn":{margin:0}},card:{marginBottom:theme.spacing(3)},optionFiled:{"& .trashCanButton":{display:"none"},"&:hover .trashCanButton":{display:"block","&:hover":{color:theme.palette.error.main}},"& .checkIcon":{color:theme.palette.success.main}}}})),veritcalWrapStyle=Object(_material_ui_core__WEBPACK_IMPORTED_MODULE_0__.a)((function(theme){return{root:{paddingTop:theme.spacing(6),paddingBottom:theme.spacing(14)},space3:{marginBottom:theme.spacing(3)}}}))},788:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return useToast})),__webpack_require__.d(__webpack_exports__,"a",(function(){return useModal}));var C_Users_colto_Desktop_projects_quizMySelf_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(795),C_Users_colto_Desktop_projects_quizMySelf_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(64),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),useToast=function useToast(){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(),_useState2=Object(C_Users_colto_Desktop_projects_quizMySelf_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),toastOps=_useState2[0],setToastOps=_useState2[1],close=function close(){setToastOps(Object(C_Users_colto_Desktop_projects_quizMySelf_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_0__.a)({},toastOps,{open:!1}))};return{toastOps:toastOps,toastHandle:function toastHandle(options){options.onClose=close,setToastOps(options)},close:close}};function useModal(){var _useState3=Object(react__WEBPACK_IMPORTED_MODULE_2__.useState)(),_useState4=Object(C_Users_colto_Desktop_projects_quizMySelf_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,2),info=_useState4[0],setInfo=_useState4[1],_React$useState=react__WEBPACK_IMPORTED_MODULE_2___default.a.useState(!1),_React$useState2=Object(C_Users_colto_Desktop_projects_quizMySelf_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];return{info:info,setOpen:setOpen,open:open,openModal:function openModal(info){setInfo(info),setOpen(!0)},closeModal:function closeModal(){setOpen(!1)}}}},789:function(module,__webpack_exports__,__webpack_require__){"use strict";var C_Users_colto_Desktop_projects_quizMySelf_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(814),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_material_ui_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(910),_material_ui_lab_Alert__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(908);function Alert(props){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_lab_Alert__WEBPACK_IMPORTED_MODULE_3__.a,Object.assign({elevation:6},props))}__webpack_exports__.a=function Toast(_ref){var children=_ref.children,alertProp=_ref.alertProp,props=Object(C_Users_colto_Desktop_projects_quizMySelf_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__.a)(_ref,["children","alertProp"]);return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_2__.a,props,react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Alert,Object.assign({onClose:props.onClose},alertProp),children))}},907:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var regenerator=__webpack_require__(165),regenerator_default=__webpack_require__.n(regenerator),asyncToGenerator=__webpack_require__(227),objectSpread2=__webpack_require__(795),toConsumableArray=__webpack_require__(793),slicedToArray=__webpack_require__(64),react=__webpack_require__(0),react_default=__webpack_require__.n(react),ExpandMore=__webpack_require__(783),ExpandMore_default=__webpack_require__.n(ExpandMore),ExpandLess=__webpack_require__(809),ExpandLess_default=__webpack_require__.n(ExpandLess),helps=__webpack_require__(101),defulatToastStatus={sucess:!1,fail:!1,guid:!1,remember:!1},defaultQuiz={question:"",answer:"",date:new Date,explain:"",id:0,priority:10,customHint:"",type:"essayQ"},defaultOp={checked:!1,op:""},App=__webpack_require__(224),AddAPhoto=__webpack_require__(852),AddAPhoto_default=__webpack_require__.n(AddAPhoto),build=__webpack_require__(822),build_default=__webpack_require__.n(build),removeSpecialChar=function removeSpecialChar(str){return str.replace(/!@#$%^&*(),?"{}|<>:/gi,"_")},ToggleButtonGroup=__webpack_require__(914),ToggleButton=__webpack_require__(886),HeadSorter=function HeaderSoter(_ref){var wrapCalsses=_ref.wrapCalsses,format=_ref.format,handleFormat=_ref.handleFormat;return react_default.a.createElement(ToggleButtonGroup.a,{className:wrapCalsses.space3,value:[format],color:"",onChange:handleFormat,"aria-label":"text formatting"},react_default.a.createElement(ToggleButton.a,{value:"essayQ","aria-label":"essay question"},"주관식"),react_default.a.createElement(ToggleButton.a,{value:"multipleQ","aria-label":"multiple question"},"객관식"))},style=__webpack_require__(775),Delete=__webpack_require__(823),Delete_default=__webpack_require__.n(Delete),RadioButtonUnchecked=__webpack_require__(825),RadioButtonUnchecked_default=__webpack_require__.n(RadioButtonUnchecked),CheckCircleOutline=__webpack_require__(824),CheckCircleOutline_default=__webpack_require__.n(CheckCircleOutline),FormControl=__webpack_require__(787),InputLabel=__webpack_require__(794),OutlinedInput=__webpack_require__(813),InputAdornment=__webpack_require__(887),Tooltip=__webpack_require__(735),IconButton=__webpack_require__(888),components_Qoption=function Qoption(_ref){var classes=_ref.classes,options=_ref.options,setOptions=_ref.setOptions,op=_ref.op,i=_ref.index,handleClickOptionDelete=_ref.onClickOptionDelete,handleClickOptionCircle=_ref.onClickOptionCircle,handlePreventDefault=function handlePreventDefault(event){event.preventDefault()};return react_default.a.createElement(FormControl.a,{className:classes.optionFiled,variant:"outlined"},react_default.a.createElement(InputLabel.a,{htmlFor:"option"},App.a.choice),react_default.a.createElement(OutlinedInput.a,{labelWidth:50,onChange:function onChange(e){options[i].op=e.currentTarget.value,setOptions(Object(toConsumableArray.a)(options))},endAdornment:react_default.a.createElement(InputAdornment.a,{variant:"outlined",position:"end"},0!==i&&react_default.a.createElement(Tooltip.a,{title:App.a.delete},react_default.a.createElement(IconButton.a,{className:"trashCanButton","aria-label":"toggle password visibility",onClick:function onClick(){handleClickOptionDelete(i)},onMouseDown:handlePreventDefault,edge:"end"},react_default.a.createElement(Delete_default.a,null))),react_default.a.createElement(Tooltip.a,{title:App.a.is_this_true},react_default.a.createElement(IconButton.a,{"aria-label":"toggle password visibility",onClick:function onClick(){handleClickOptionCircle(op)},onMouseDown:handlePreventDefault,edge:"end"},op.checked?react_default.a.createElement(CheckCircleOutline_default.a,{className:"checkIcon"}):react_default.a.createElement(RadioButtonUnchecked_default.a,null)))),value:op.op,id:"outlined-basic"}))},hook=__webpack_require__(788),Toast=__webpack_require__(789),Card=__webpack_require__(826),Card_default=__webpack_require__.n(Card),TextField=__webpack_require__(849),TextField_default=__webpack_require__.n(TextField),CardContent=__webpack_require__(848),CardContent_default=__webpack_require__.n(CardContent),Button=__webpack_require__(850),Button_default=__webpack_require__.n(Button);__webpack_exports__.default=function CreateQuestion(){var wrapCalsses=Object(style.c)(),classes=Object(style.b)(),imageInputRef=Object(react.useRef)(null),_useState=Object(react.useState)(""),_useState2=Object(slicedToArray.a)(_useState,2),fileName=_useState2[0],setFileName=_useState2[1],_useState3=Object(react.useState)(!0),_useState4=Object(slicedToArray.a)(_useState3,2),setLoading=(_useState4[0],_useState4[1]),_useState5=Object(react.useState)(!1),_useState6=Object(slicedToArray.a)(_useState5,2),detailMode=_useState6[0],setDetailMode=_useState6[1],_useState7=Object(react.useState)(defulatToastStatus),_useState8=Object(slicedToArray.a)(_useState7,2),_useState9=(_useState8[0],_useState8[1],Object(react.useState)(defaultQuiz)),_useState10=Object(slicedToArray.a)(_useState9,2),question=_useState10[0],setQuestion=_useState10[1],_React$useState=react_default.a.useState("essayQ"),_React$useState2=Object(slicedToArray.a)(_React$useState,2),format=_React$useState2[0],setformat=_React$useState2[1],_useState11=Object(react.useState)([defaultOp]),_useState12=Object(slicedToArray.a)(_useState11,2),options=_useState12[0],setOptions=_useState12[1],_useToast=Object(hook.b)(),toastHandle=_useToast.toastHandle,toastOps=_useToast.toastOps,handleClickOptionDelete=function handleClickOptionDelete(i){setOptions(Object(toConsumableArray.a)(options.splice(i-1,1)))},handleClickOptionCircle=function handleClickOptionCircle(op){var tempCheck=!op.checked;options.forEach((function(op){op.checked=!1})),op.checked=tempCheck,setOptions(Object(toConsumableArray.a)(options))},appInfo=function getAppInfo(){var appInfoString=localStorage.getItem("appInfo"),appInfo=appInfoString?JSON.parse(appInfoString):null,defaultAppInfo={needGuid:!0};return appInfo||localStorage.setItem("appInfo",JSON.stringify(defaultAppInfo)),appInfo||defaultAppInfo}();Object(react.useEffect)((function(){var needGuid=appInfo.needGuid;needGuid&&toastHandle({children:"💌 ".concat(App.a.Hope_this_app_help_your_learning),open:needGuid,alertProp:{severity:"info"}})}),[]),Object(react.useEffect)((function(){setQuestion(Object(objectSpread2.a)({},defaultQuiz))}),[format]);var toastQuestionAddResult=function toastQuestionAddResult(sucess){(null==appInfo?void 0:appInfo.needGuid)?function guidMessage(){toastHandle({children:"".concat(App.a.will_remember_quiz," 😊"),open:!0,alertProp:{severity:"info"}}),appInfo&&(appInfo.needGuid=!1,localStorage.setItem("appInfo",JSON.stringify(appInfo)))}():toastHandle(sucess?{children:"".concat(App.a.Added_to_quiz_list),open:!0,autoHideDuration:2e3,alertProp:{severity:"success"}}:{children:"".concat(App.a.Can_not_added_to_quiz_list," 😫"),open:!0,autoHideDuration:3e3,alertProp:{severity:"error"}})};return react_default.a.createElement("div",{className:wrapCalsses.root},react_default.a.createElement("h2",null,App.a.create_some_quiz),react_default.a.createElement(HeadSorter,{wrapCalsses:wrapCalsses,format:format,handleFormat:function handleFormat(event,newformat){if(format){var filterd=newformat.filter((function(f){return!format.includes(f)}));setformat(filterd[0])}}}),react_default.a.createElement(Card_default.a,{className:classes.card},react_default.a.createElement("form",{className:classes.root,noValidate:!0,autoComplete:"off"},react_default.a.createElement(CardContent_default.a,null,"essayQ"===format&&react_default.a.createElement(react.Fragment,null,react_default.a.createElement("div",null,react_default.a.createElement(TextField_default.a,{multiline:!0,id:"outlined-basic",className:"TessayQuestionInput",onChange:function onChange(e){setQuestion(Object(objectSpread2.a)({},question,{question:e.currentTarget.value}))},value:question.question,label:App.a.question,variant:"outlined"})),react_default.a.createElement("div",null,react_default.a.createElement(TextField_default.a,{onChange:function onChange(e){setQuestion(Object(objectSpread2.a)({},question,{answer:e.currentTarget.value}))},value:question.answer,id:"outlined-basic",label:App.a.answer,variant:"outlined"}))),"multipleQ"===format&&react_default.a.createElement(react.Fragment,null,react_default.a.createElement("div",null,react_default.a.createElement(TextField_default.a,{multiline:!0,id:"outlined-basic",onChange:function onChange(e){setQuestion(Object(objectSpread2.a)({},question,{question:e.currentTarget.value}))},value:question.question,label:App.a.question,variant:"outlined"})),options.map((function(op,i){return react_default.a.createElement(components_Qoption,{key:i,options:options,setOptions:setOptions,onClickOptionDelete:handleClickOptionDelete,onClickOptionCircle:handleClickOptionCircle,classes:classes,op:op,index:i})})),react_default.a.createElement(Button_default.a,{className:"optionAddBtn",onClick:function onClick(){setOptions([].concat(Object(toConsumableArray.a)(options),[{checked:!1,op:""}]))},variant:"outlined",size:"large"},App.a.add)),detailMode&&react_default.a.createElement(react.Fragment,null,react_default.a.createElement("div",{className:"fileUploader"},react_default.a.createElement("div",null,fileName&&react_default.a.createElement("h6",null,fileName)),react_default.a.createElement("input",{onChange:function onChange(e){if(e.persist(),e&&function imgValidate(e){var _e$target=e.target,files=_e$target.files;if(!_e$target.validity||!files||1!==files.length||!files[0])return!1;var file=files[0];return!(!file||!file.type)}(e)){var file=e.target.files[0];build_default.a.imageFileResizer(file,400,600,"JPEG",80,0,function(){var _ref=Object(asyncToGenerator.a)(regenerator_default.a.mark((function _callee(blob){return regenerator_default.a.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:setFileName(removeSpecialChar(file.name)),setQuestion(Object(objectSpread2.a)({},question,{img:blob}));case 2:case"end":return _context.stop()}}),_callee)})));return function(_x){return _ref.apply(this,arguments)}}(),"blob")}},ref:imageInputRef,style:{position:"absolute",width:"1px",opacity:0,height:"1px"},type:"file"}),react_default.a.createElement(TextField_default.a,{id:"outlined-basic",multiline:!0,onChange:function onChange(e){setQuestion(Object(objectSpread2.a)({},question,{customHint:e.currentTarget.value}))},value:question.customHint,label:App.a.custom_hint,variant:"outlined"}),react_default.a.createElement(TextField_default.a,{id:"outlined-basic",multiline:!0,onChange:function onChange(e){setQuestion(Object(objectSpread2.a)({},question,{smallQuestion:e.currentTarget.value}))},value:question.smallQuestion,label:App.a.samll_text_add_to_question,variant:"outlined"}),react_default.a.createElement(TextField_default.a,{id:"outlined-basic",multiline:!0,onChange:function onChange(e){setQuestion(Object(objectSpread2.a)({},question,{explain:e.currentTarget.value}))},value:question.explain,label:App.a.explane_about_answer,variant:"outlined"}),react_default.a.createElement(Button_default.a,{className:"addImgBtn",variant:"outlined",color:"primary",endIcon:react_default.a.createElement(AddAPhoto_default.a,null),onClick:function onClick(){var _imageInputRef$curren;console.log(imageInputRef.current),null===(_imageInputRef$curren=imageInputRef.current)||void 0===_imageInputRef$curren||_imageInputRef$curren.click()}},App.a.add_img)))),react_default.a.createElement("div",null,react_default.a.createElement(Button_default.a,{className:"lastBtn",style:style.a,size:"large",onClick:function onClick(){setDetailMode(!detailMode)}},detailMode?react_default.a.createElement(ExpandLess_default.a,null):react_default.a.createElement(ExpandMore_default.a,null))))),react_default.a.createElement(Button_default.a,{onClick:function handleClickAdd(){(function validater(){return"essayQ"===question.type?question.answer&&question.question:Boolean(question.options&&question.question)})()||toastQuestionAddResult(!1),delete question.id,question.type=format;var optionValues=options.map((function(op){return op.op})),checkedOptions=options.filter((function(op){return op.checked})).map((function(op){return op.op}));question.options=optionValues,"multipleQ"===question.type&&(question.answer=checkedOptions[0]),helps.a.add("question",question).then((function(v){toastQuestionAddResult(!0)})).catch((function(e){toastQuestionAddResult(!1)})).finally((function(){setQuestion(defaultQuiz),setOptions([{checked:!1,op:""}]),setFileName(""),setLoading(!0)}))},size:"large",variant:"contained",color:"primary"},App.a.add),react_default.a.createElement(Toast.a,Object.assign({open:!1},toastOps)))}}}]);
//# sourceMappingURL=10.0ba1587cf284667cb786.bundle.js.map